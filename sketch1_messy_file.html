<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="style.css" />
  </head>
  <body>
    <!--<div class="caption">attempts coexisting in sketch.js</div>-->
    <h2>attempts coexisting in sketch.js</h2>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>
    <script>
      const BLUE = [0, 0, 255];

      let attempts = [
        { x: 0.38, y: 0.38, r: 0.18, label: "// attempt 1 — too big?" },
        { x: 0.54, y: 0.46, r: 0.09, label: "// attempt 2 — try smaller" },
        { x: 0.44, y: 0.54, r: 0.13, label: "// attempt 3 — different center" },
        { x: 0.5, y: 0.38, r: 0.06, label: "// attempt 4 — what about this" },
        { x: 0.36, y: 0.5, r: 0.11, label: "// keep this one?" },
      ];
      let t = 0;

      function setup() {
        createCanvas(windowWidth, windowHeight);
        textFont("monospace");
      }

      function draw() {
        //background(245, 240, 232);
        background(255);
        t += 0.008;

        for (let i = 0; i < attempts.length; i++) {
          let a = attempts[i];
          let cx = a.x * width;
          let cy = a.y * height;
          let r = a.r * min(width, height);
          let pulse = sin(t + i * 0.4) * r * 0.06;
          let alpha = map(i, 0, attempts.length - 1, 40, 180);

          // circles — black
          noFill();
          strokeWeight(0.8 + i * 0.25);
          stroke(0, alpha);
          circle(cx, cy, (r + pulse) * 2);

          strokeWeight(0.5);
          stroke(0, alpha * 0.4);
          circle(cx, cy, (r * 0.6 + pulse * 0.5) * 2);

          // labels — blue
          noStroke();
          fill(...BLUE, max(alpha + 60, 160));
          textSize(13);
          textAlign(LEFT);
          text(a.label, cx - r, cy + r + 18);
        }

        // blinking cursor — blue
        noStroke();
        fill(...BLUE, 180);
        rect(
          width * 0.5 + sin(t * 1.3) * 20,
          height * 0.42 + cos(t * 1.1) * 20,
          1.5,
          14,
        );
      }

      function windowResized() {
        resizeCanvas(windowWidth, windowHeight);
      }
    </script>
    <a class="next-btn" href="sketch3_pentimento.html">→</a>
  </body>
</html>
